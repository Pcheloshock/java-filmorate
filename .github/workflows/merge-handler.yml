steps:
  - name: Setup GitHub CLI
    run: |
      type -p gh >/dev/null || curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
      type -p gh >/dev/null || echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null
      type -p gh >/dev/null || sudo apt update
      type -p gh >/dev/null || sudo apt install gh -y

  - name: Authenticate with GitHub CLI
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    run: |
      gh auth setup-git
      gh auth status

  - name: Merge specific PR
    if: github.event.pull_request.head.ref == 'add-friends-likes'
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    run: |
      echo "üîÑ –ú–µ—Ä–∂—É PR #2 (–≤–µ—Ç–∫–∞ add-friends-likes)..."
      gh pr merge https://github.com/Pcheloshock/java-filmorate/pull/2 --merge --delete-branch
      echo "‚úÖ PR —É—Å–ø–µ—à–Ω–æ —Å–º–µ—Ä–∂–µ–Ω!"